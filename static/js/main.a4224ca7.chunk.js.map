{"version":3,"sources":["components/Hamburger.js","components/Header.js","components/Footer.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/InputForm.js","components/EditProfilePopup.js","components/ImagePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeletePopup.js","components/ProtectedRoute.js","utils/auth.js","components/Login.js","components/Register.js","utils/api.js","components/InfoTooltip.js","images/success.svg","images/fail.svg","components/App.js","reportWebVitals.js","index.js"],"names":["Hamburger","props","className","isHamburger","loggedIn","email","to","isAuth","isExit","onClick","onHandleState","linkState","onSetHamburger","Header","React","useState","hamburger","setHamburger","setLinkState","history","useHistory","handleState","localStorage","removeItem","push","onExit","removeEmail","isLoggedIn","console","log","handleLink","useEffect","exit","href","Footer","Date","getFullYear","CurrentUserContext","createContext","Card","card","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","type","onCardDelete","onDeleteClick","src","link","alt","name","onCardLike","length","Main","avatar","onEditAvatar","about","onEditProfile","onAddPlace","isLoading","cards","map","item","onCardClick","PopupWithForm","children","buttonState","setButtonState","formRef","useRef","escClose","isOpen","current","checkValidity","Array","from","every","input","value","trim","onButtonActive","overlayClose","ref","onSubmit","noValidate","onClose","title","button","isLoad","isButtonActive","disabled","buttonTitle","InputForm","error","setError","onChange","e","id","minLength","maxLength","placeholder","required","EditProfilePopup","setName","description","setDescription","preventDefault","onUpdateUser","target","ImagePopup","EditAvatarPopup","setAvatar","onUpdateAvatar","AddPlacePopup","setLink","xName","DeletePopup","ProtectedRoute","Component","component","BASE_URL","withRouter","setEmail","password","setPassword","fetch","method","headers","body","JSON","stringify","then","res","ok","json","Promise","reject","status","data","setItem","token","catch","err","auth","statusCode","onLoggedIn","onFail","onSuccess","api","options","this","baseUrl","_checkResponse","newName","newAbout","cardId","imageUrl","addLike","removeLike","authorization","InfoTooltip","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isDeletePopupOpen","setIsDeletePopupOpen","selectedCard","setSelectedCard","isPopupWithImageOpen","setIsPopupWithImageOpen","setCurrentUser","setCards","loading","setLoading","buttonSave","setButtonSave","buttonAdd","setButtonAdd","buttonDelete","setButtonDelete","setLoggedIn","isButtonEdditProfile","setIsButtonEdditProfile","isButtonAddPlace","setIsButtonAddPlace","isButtonAvatar","setIsButtonAvatar","isSuccessPopupOpen","setIsSuccessPopupOpen","isFailPopupOpen","setIsFailPopupOpen","setIsAuth","setExit","handleButton","setState","closeAllPopups","document","removeEventListener","evt","key","handleEscClose","addEventListener","handleOverlayClose","classList","contains","handleTokenCheck","getItem","getUserInfo","getInitialCards","Provider","exact","path","changeLikeCardStatus","newCard","state","c","setUserInfo","addCard","updateAvatarImage","deleteCard","newCards","filter","successImage","failImage","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"wOAyBeA,MAtBf,SAAmBC,GAElB,OACC,qCACC,sBAAKC,UAAS,oCAA+BD,EAAME,aAAe,0BAApD,aAAkFF,EAAMG,UAAY,0BAAlH,UACC,mBAAGF,UAAU,0BAAb,SAAwCD,EAAMI,QAC9C,cAAC,IAAD,CACCC,GAAKL,EAAMM,SAAWN,EAAMO,OAAYP,EAAMM,OAAsB,WAAb,WAA2B,WAClFL,UAAU,iCACVO,QAASR,EAAMS,cAHhB,SAIET,EAAMU,eAIT,yBAAQT,UAAS,6BAAwBD,EAAMG,UAAY,0BAA3D,UACC,qBAAKF,UAAU,iBACf,wBAAQA,UAAS,uBAAkBD,EAAME,aAAe,qBAAuBM,QAASR,EAAMW,wBC2DnFC,MA1Ef,SAAgBZ,GAAQ,IAAD,EAEaa,IAAMC,UAAS,GAF5B,mBAEdC,EAFc,KAEHC,EAFG,OAGaH,IAAMC,SAAS,IAH5B,mBAGdJ,EAHc,KAGHO,EAHG,KAMfC,EAAUC,cAoBhB,SAASC,IACHpB,EAAMO,QAlBVc,aAAaC,WAAW,SACxBJ,EAAQK,KAAK,YACbvB,EAAMwB,QAAO,GACbxB,EAAMyB,YAAY,IAClBzB,EAAM0B,YAAW,GACjBC,QAAQC,IAAI5B,EAAMG,UAClBa,GAAa,IAeXhB,EAAM6B,aAiBV,OARAhB,IAAMiB,WAAU,WApBV9B,EAAMO,OACRU,EAAa,kCAEbA,EAAajB,EAAMM,OAAS,qEAAgB,oCAmB7C,CAACN,EAAMO,OAAQP,EAAMM,SAExBO,IAAMiB,WAAU,WACV9B,EAAMG,UAAUH,EAAMwB,QAAO,KAChC,CAACxB,EAAMG,WAGR,yBAAQF,UAAU,SAAlB,UACE,cAAC,EAAD,CACES,UAAWA,EACXN,MAAOJ,EAAMI,MACbO,eAhBN,WACEK,GAAcD,IAgBVb,YAAaa,EACbR,OAAQP,EAAM+B,KACdzB,OAAQN,EAAMM,OACdG,cAAeW,EACfjB,SAAUH,EAAMG,WAClB,sBAAKF,UAAS,2BAAsBD,EAAMG,UAAY,2BAAtD,UACE,qBAAKF,UAAU,iBACf,sBAAKA,UAAU,kBAAf,UACE,mBAAGA,UAAU,gBAAb,SAA8BD,EAAMI,QACpC,cAAC,IAAD,CACEC,GAAKL,EAAMM,SAAWN,EAAMO,QAAWP,EAAMM,OAAS,WAA2B,WACjFE,QAASY,EACTnB,UAAS,uBAAkBD,EAAMO,QAAU,qBAC3CyB,KAAK,IAJP,SAIYtB,cC5DPuB,MARf,WACE,OACE,wBAAQhC,UAAU,SAAlB,SACE,oBAAGA,UAAU,oBAAb,0BAAgD,IAAIiC,MAAOC,cAA3D,sBCJOC,EAAqBvB,IAAMwB,gBCsCzBC,MArCf,SAActC,GAEZ,IAAMuC,EAAOvC,EAAMuC,KACbC,EAAc3B,IAAM4B,WAAWL,GAC/BM,EAAQH,EAAKI,MAAMC,MAAQJ,EAAYI,IACvCC,EAAUN,EAAKO,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEJ,MAAQJ,EAAYI,OAGrDK,EAAyB,iCAA8BP,EAAQ,GAAK,iCACpEQ,EAAuB,0BAAuBL,GAAW,wBAa/D,OACE,0BAAS5C,UAAU,gBAAnB,UACE,wBAAQA,UAAWgD,EAA2BE,KAAK,SAAS3C,QAPhE,WACER,EAAMoD,aAAab,GACnBvC,EAAMqD,mBAMJ,qBAAKpD,UAAU,iBAAiBqD,IAAKf,EAAKgB,KAAMC,IAAKjB,EAAKkB,KAAMjD,QAdpE,WACER,EAAMQ,QAAQ+B,MAcZ,sBAAKtC,UAAU,mBAAf,UACE,oBAAIA,UAAU,gBAAd,SAA+BsC,EAAKkB,OACpC,sBAAKxD,UAAU,0BAAf,UACE,wBAAQA,UAAWiD,EAAyB1C,QAfpD,WACER,EAAM0D,WAAWnB,IAc2DY,KAAK,WAC3E,sBAAMlD,UAAU,0BAAhB,SAA2CsC,EAAKO,MAAMa,mBCOjDC,MAnCf,SAAc5D,GAEZ,IAAMwC,EAAc3B,IAAM4B,WAAWL,GAErC,OACE,uBAAMnC,UAAU,UAAhB,UACE,0BAASA,UAAU,UAAnB,UACE,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,4BAAf,UACE,qBAAKA,UAAU,kBAAkBqD,IAAKd,EAAYqB,OAAQL,IAAI,WAC9D,wBAAQvD,UAAU,yBAAyBO,QAASR,EAAM8D,kBAE5D,oBAAI7D,UAAU,gBAAd,SAA+BuC,EAAYiB,OAC3C,mBAAGxD,UAAU,eAAb,SAA6BuC,EAAYuB,QACzC,wBAAQ9D,UAAU,uBAAuBkD,KAAK,SAAS3C,QAASR,EAAMgE,mBAExE,wBAAQ/D,UAAU,sBAAsBkD,KAAK,SAAS3C,QAASR,EAAMiE,gBAEvE,oCACE,qBAAKhE,UAAS,UAAKD,EAAMkE,WAAa,aACtC,qBAAKjE,UAAU,UAAf,SACGD,EAAMmE,MAAMC,KAAI,SAACC,GAAD,OACf,cAAC,EAAD,CACEjB,aAAcpD,EAAMoD,aACpBM,WAAY1D,EAAM0D,WAClBnB,KAAM8B,EACN7D,QAASR,EAAMsE,YACfjB,cAAerD,EAAMqD,eALZgB,EAAKzB,iBCUb2B,MAlCf,SAAuBvE,GAErB,IAAMwE,EAAWxE,EAAMwE,SAFK,EAGU3D,IAAMC,UAAS,GAHzB,mBAGrB2D,EAHqB,KAGRC,EAHQ,KAItBC,EAAU9D,IAAM+D,SAgBtB,OAdA/D,IAAMiB,WAAU,WACd9B,EAAM6E,SAAS7E,EAAM8E,UACpB,CAAC9E,EAAM8E,OAAQ9E,EAAM6E,WAExBhE,IAAMiB,WAAU,WACV6C,EAAQI,SAAWJ,EAAQI,QAAQC,iBAAmBC,MAAMC,KAAKV,GAAUW,OAAM,SAACC,GAAD,MAAwC,KAA7BA,EAAMpF,MAAMqF,MAAMC,WAChHZ,GAAe,GACf1E,EAAMuF,gBAAe,KAErBb,GAAe,GACf1E,EAAMuF,gBAAe,OAKvB,qBAAKtF,UAAS,sBAAiBD,EAAMyD,KAAvB,YAA+BzD,EAAM8E,QAAU,gBAAkBtE,QAASR,EAAMwF,aAA9F,SACE,uBAAMC,IAAKd,EAAS1E,UAAS,wDAAmDD,EAAMyD,KAAzD,SAAsEA,KAAI,gBAAWzD,EAAMyD,MAAQiC,SAAU1F,EAAM0F,SAAUC,YAAU,EAApK,UACE,wBAAQ1F,UAAU,eAAekD,KAAK,SAAS3C,QAASR,EAAM4F,UAC9D,oBAAI3F,UAAS,oCAA+BD,EAAMyD,MAAlD,SAA2DzD,EAAM6F,QAChErB,EACD,wBAAQvE,UAAS,wBAAmBD,EAAM8F,OAAOC,QAAU,wBAA1C,YAAqE/F,EAAMgG,gBAAkB,yBAA2B7C,KAAK,SAAS8C,SAAUxB,EAAjK,SACGzE,EAAM8F,OAAOI,oBCATC,MA3Bf,SAAmBnG,GAAQ,IAAD,EAEEa,IAAMC,SAAS,IAFjB,mBAEjBsF,EAFiB,KAEVC,EAFU,KAmBxB,OAHAxF,IAAMiB,WAAU,WACT9B,EAAM8E,QAAUuB,EAAS,MAC7B,CAACrG,EAAM8E,SAER,qCACE,uBAAOW,IAAKzF,EAAMyF,IAAKJ,MAAOrF,EAAMqF,MAAOiB,SAf/C,SAAsBC,GACpBvG,EAAMsG,SAASC,IAcsDtG,UAAWD,EAAMC,UAAWuG,GAAIxG,EAAMwG,GAAIrD,KAAMnD,EAAMmD,KAAMsD,UAAWzG,EAAMyG,UAAWC,UAAW1G,EAAM0G,UAAWC,YAAa3G,EAAM2G,YAAalD,KAAMzD,EAAMyD,KAAMmD,UAAQ,IACjP,sBAAM3G,UAAU,eAAhB,SAAgCmG,QC8CvBS,MAjEf,SAA0B7G,GAAQ,IAAD,EACPa,IAAMC,SAAS,IADR,mBACxB2C,EADwB,KAClBqD,EADkB,OAEOjG,IAAMC,SAAS,IAFtB,mBAExBiG,EAFwB,KAEXC,EAFW,KAGzBxE,EAAc3B,IAAM4B,WAAWL,GAsBrC,OAJAvB,IAAMiB,WAAU,WACdgF,EAAQtE,EAAYiB,MACpBuD,EAAexE,EAAYuB,SAC1B,CAACvB,IAEF,eAAC,EAAD,CACEiB,KAAK,UACLoC,MAAM,4HACNC,OAAQ9F,EAAMkG,YACdpB,OAAQ9E,EAAM8E,OACdc,QAAS5F,EAAM4F,QACff,SAAU7E,EAAM6E,SAChBW,aAAcxF,EAAMwF,aACpBE,SArBJ,SAAsBa,GACpBA,EAAEU,iBACFjH,EAAMkH,aAAa,CACjBzD,KAAMA,EAAK6B,OACXvB,MAAOgD,EAAYzB,UAkBnBU,eAAgBhG,EAAMgG,eACtBT,eAAgBvF,EAAMuF,eAVxB,UAWE,cAAC,EAAD,CACEF,MAAO5B,EACP6C,SAlCN,SAAoBC,GAClBO,EAAQP,EAAEY,OAAO9B,QAkCbpF,UAAU,8CACVuG,GAAG,oBACHrD,KAAK,OACLsD,UAAU,IACVC,UAAU,KACVC,YAAY,qBACZlD,KAAK,qBACLqB,OAAQ9E,EAAM8E,SAEhB,cAAC,EAAD,CACEO,MAAO0B,EACPT,SA1CN,SAA2BC,GACzBS,EAAeT,EAAEY,OAAO9B,QA0CpBpF,UAAU,4CACVuG,GAAG,WACHrD,KAAK,OACLsD,UAAU,IACVC,UAAU,MACVC,YAAY,yDACZlD,KAAK,oBACLqB,OAAQ9E,EAAM8E,aC7CPsC,MAjBf,SAAoBpH,GAMlB,OAJAa,IAAMiB,WAAU,WACd9B,EAAM6E,SAAS7E,EAAM8E,UACpB,CAAC9E,EAAM8E,OAAQ9E,EAAM6E,WAGtB,qBAAK5E,UAAS,uCAAkCD,EAAM8E,QAAU,gBAAkBtE,QAASR,EAAMwF,aAAjG,SACE,uBAAMvF,UAAU,mCAAmCwD,KAAK,iBAAxD,UACE,wBAAQxD,UAAU,eAAekD,KAAK,SAAS3C,QAASR,EAAM4F,UAC9D,qBAAK3F,UAAU,wBAAwBqD,IAAKtD,EAAMuC,KAAKgB,KAAMC,IAAKxD,EAAMuC,KAAKkB,OAC7E,oBAAIxD,UAAU,qCAAd,SAAoDD,EAAMuC,KAAKkB,aCgCxD4D,MAzCf,SAAyBrH,GAAQ,IAAD,EACFa,IAAMC,SAAS,IADb,mBACvB+C,EADuB,KACfyD,EADe,KAc9B,OACE,cAAC,EAAD,CACE7D,KAAK,cACLoC,MAAM,wFACNC,OAAQ9F,EAAMkG,YACdpB,OAAQ9E,EAAM8E,OACdc,QAAS5F,EAAM4F,QACff,SAAU7E,EAAM6E,SAChBW,aAAcxF,EAAMwF,aACpBE,SAhBJ,SAAsBa,GACpBA,EAAEU,iBACFjH,EAAMuH,eAAe,CACnB1D,OAAQA,KAcRmC,eAAgBhG,EAAMgG,eACtBT,eAAgBvF,EAAMuF,eAVxB,SAWE,cAAC,EAAD,CACEF,MAAOxB,EACPyC,SAzBN,SAAsBC,GACpBe,EAAUf,EAAEY,OAAO9B,QAyBfpF,UAAU,sCACVuG,GAAG,cACHrD,KAAK,MACLwD,YAAY,2GACZlD,KAAK,qBACLqB,OAAQ9E,EAAM8E,YCgCP0C,MAjEf,SAAuBxH,GAAQ,IAAD,EACJa,IAAMC,SAAS,IADX,mBACrB2C,EADqB,KACfqD,EADe,OAEJjG,IAAMC,SAAS,IAFX,mBAErByC,EAFqB,KAEfkE,EAFe,KA0B5B,OANA5G,IAAMiB,WAAU,WACdgF,EAAQ,IACRW,EAAQ,MACP,CAACzH,EAAM8E,SAIR,eAAC,EAAD,CACErB,KAAK,UACLoC,MAAM,kFACNC,OAAQ9F,EAAMkG,YACdpB,OAAQ9E,EAAM8E,OACdc,QAAS5F,EAAM4F,QACff,SAAU7E,EAAM6E,SAChBW,aAAcxF,EAAMwF,aACpBE,SAvBJ,SAAsBa,GACpBA,EAAEU,iBACFjH,EAAMiE,WAAW,CACfR,KAAMA,EAAK6B,OACX/B,KAAMA,KAoBNyC,eAAgBhG,EAAMgG,eACtBT,eAAgBvF,EAAMuF,eAVxB,UAWE,cAAC,EAAD,CACEF,MAAO5B,EACP6C,SApCN,SAAoBC,GAClBO,EAAQP,EAAEY,OAAO9B,QAoCbpF,UAAU,+CACVuG,GAAG,YACHrD,KAAK,OACLsD,UAAU,IACVC,UAAU,KACVC,YAAY,oGACZlD,KAAK,qBACLqB,OAAQ9E,EAAM8E,SAEhB,cAAC,EAAD,CACEO,MAAO9B,EACP+C,SA5CN,SAAoBC,GAClBkB,EAAQlB,EAAEY,OAAO9B,QA4CbpF,UAAU,sCACVuG,GAAG,YACHrD,KAAK,MACLwD,YAAY,2GACZlD,KAAK,qBACLqB,OAAQ9E,EAAM8E,OACd4C,MAAOnE,QCtCAoE,MAxBf,SAAqB3H,GAanB,OAJAa,IAAMiB,WAAU,WACd9B,EAAM6E,SAAS7E,EAAM8E,UACpB,CAAC9E,EAAM8E,OAAQ9E,EAAM6E,WAGtB,qBAAK5E,UAAS,kCAA6BD,EAAM8E,QAAU,gBAAkBtE,QAASR,EAAMwF,aAA5F,SACJ,uBAAMvF,UAAU,4DAA4DwD,KAAK,eAAekC,YAAU,EAA1G,UACI,wBAAQ1F,UAAU,mCAAmCkD,KAAK,SAAU3C,QAASR,EAAM4F,UACnF,oBAAI3F,UAAU,mCAAd,sEACA,wBAAQA,UAAS,6CAAwCD,EAAMkG,YAAYH,QAAU,yBAA2B5C,KAAK,SAAS3C,QAfhI,SAAsB+F,GACpBA,EAAEU,iBACFjH,EAAMoD,aAAapD,EAAMuC,MACzBvC,EAAM4F,WAYN,SAAsJ5F,EAAMkG,YAAYA,oB,gBCN7J0B,EAVQ,SAAC,GAAwC,IAA3BC,EAA0B,EAArCC,UAAyB9H,EAAY,6BAC7D,OACE,cAAC,IAAD,UACG,kBACCA,EAAMG,SAAW,cAAC0H,EAAD,eAAe7H,IAAY,cAAC,IAAD,CAAUK,GAAG,kBCRpD0H,EAAW,gCCiDTC,mBA3Cf,SAAehI,GAAQ,IAAD,EAEMa,IAAMC,SAAS,IAFrB,mBAEbV,EAFa,KAEN6H,EAFM,OAGYpH,IAAMC,SAAS,IAH3B,mBAGboH,EAHa,KAGHC,EAHG,KA+BpB,OACE,qBAAKlI,UAAU,gBAAf,SACE,uBAAMA,UAAU,sBAAsB0F,YAAU,EAACD,SAnBrD,SAAsBa,GACpBA,EAAEU,iBDAmB,SAAC7G,EAAO8H,GAC/B,OAAOE,MAAM,GAAD,OAAIL,EAAJ,WAAuB,CACjCM,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CAAErI,QAAO8H,eAE/BQ,MAAK,SAAAC,GACJ,OAAKA,EAAIC,IAGPjH,QAAQC,IAAI+G,GACLA,EAAIE,QAHJC,QAAQC,OAAOJ,EAAIK,WAM3BN,MAAK,SAACO,GACL,OAAIA,GACF5H,aAAa6H,QAAQ,QAASD,EAAKE,OAC5BF,QAEP,KAGHG,OAAM,SAAAC,GAAG,OAAI1H,QAAQC,IAAIyH,MCvB1BC,CAAelJ,EAAO8H,GACnBQ,MAAK,SAACC,GACkB,MAAnBA,EAAIY,aACNvJ,EAAMiI,SAAS7H,GACfJ,EAAMwJ,YAAW,GACjBxJ,EAAMwB,QAAO,GACbxB,EAAMkB,QAAQK,KAAK,SAGtB6H,OAAM,SAACC,GACNrJ,EAAMyJ,SACN9H,QAAQC,IAAIyH,OAMd,UACE,oBAAIpJ,UAAU,uBAAd,sCACA,cAAC,EAAD,CAAWqG,SA9BjB,SAAqBC,GACnB0B,EAAS1B,EAAEY,OAAO9B,QA6BoBA,MAAOjF,EAAOH,UAAU,uBAAuB0G,YAAY,QAAQxD,KAAK,UAC1G,cAAC,EAAD,CAAWmD,SA3BjB,SAAwBC,GACtB4B,EAAY5B,EAAEY,OAAO9B,QA0BoBA,MAAO6C,EAAUjI,UAAU,uBAAuB0G,YAAY,uCAASxD,KAAK,aACjH,wBAAQlD,UAAU,+BAA+BkD,KAAK,SAAtD,oDCIO6E,mBA1Cf,SAAkBhI,GAAQ,IAAD,EACGa,IAAMC,SAAS,IADlB,mBAChBV,EADgB,KACT6H,EADS,OAESpH,IAAMC,SAAS,IAFxB,mBAEhBoH,EAFgB,KAENC,EAFM,KA6BvB,OAJAtH,IAAMiB,WAAU,WACV9B,EAAMM,QAAQN,EAAM6B,eACvB,IAGD,sBAAK5B,UAAU,gBAAf,UACE,uBAAMA,UAAU,sBAAsB0F,YAAU,EAACD,SAlBrD,SAAsBa,GACpBA,EAAEU,iBFjBkB,SAAC7G,EAAO8H,GAC9B,OAAOE,MAAM,GAAD,OAAIL,EAAJ,WAAuB,CACjCM,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CAAErI,QAAO8H,eAE/BQ,MAAK,SAAAC,GACJ,OAAKA,EAAIC,IAGPjH,QAAQC,IAAI+G,GACLA,EAAIE,QAHJC,QAAQC,OAAOJ,EAAIK,WAM3BI,OAAM,SAACC,GAAD,OAAS1H,QAAQC,IAAIyH,MEE5BC,CAAclJ,EAAO8H,GAClBQ,MAAK,SAACC,GACkB,MAAnBA,EAAIY,aACNvJ,EAAM0J,YACN1J,EAAMkB,QAAQK,KAAK,gBAGtB6H,OAAM,SAACC,GAAD,OAAS1H,QAAQC,IAAIyH,OAS5B,UACE,oBAAIpJ,UAAU,uBAAd,gFACA,cAAC,EAAD,CAAWqG,SA7BjB,SAAqBC,GACnB0B,EAAS1B,EAAEY,OAAO9B,QA4BoBA,MAAOjF,EAAOH,UAAU,uBAAuB0G,YAAY,QAAQxD,KAAK,UAC1G,cAAC,EAAD,CAAWmD,SA1BjB,SAAwBC,GACtB4B,EAAY5B,EAAEY,OAAO9B,QAyBoBA,MAAO6C,EAAUjI,UAAU,uBAAuB0G,YAAY,uCAASxD,KAAK,aACjH,wBAAQlD,UAAU,+BAAlB,6HAEF,oBAAGA,UAAU,uBAAb,kIAA0D,cAAC,IAAD,CAAMI,GAAG,UAAUG,QAASR,EAAM6B,WAAY5B,UAAU,sBAAsB+B,KAAK,IAAnF,qD,gBCmDnD2H,EAAM,I,WA5FjB,WAAYC,GAAU,oBACpBC,KAAKC,QAAUF,EAAQE,QACvBD,KAAKvB,QAAUsB,EAAQtB,Q,kDAEzB,SAAeK,GACb,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,+CAAyBJ,EAAIK,W,6BAEtC,WACE,OAAOZ,MAAM,GAAD,OAAIyB,KAAKC,QAAT,UAA0B,CACpCxB,QAASuB,KAAKvB,UAEbI,KAAKmB,KAAKE,kB,yBAGf,WACE,OAAO3B,MAAM,GAAD,OAAIyB,KAAKC,QAAT,aAA6B,CACvCxB,QAASuB,KAAKvB,UAEbI,KAAKmB,KAAKE,kB,yBAGf,SAAYC,EAASC,GACnB,OAAO7B,MAAM,GAAD,OAAIyB,KAAKC,QAAT,aAA6B,CACvCzB,OAAQ,QACRC,QAASuB,KAAKvB,QACdC,KAAMC,KAAKC,UAAU,CACnBhF,KAAMuG,EACNjG,MAAOkG,MAGRvB,KAAKmB,KAAKE,kB,qBAGf,SAAQtG,EAAMF,GACZ,OAAO6E,MAAM,GAAD,OAAIyB,KAAKC,QAAT,UAA0B,CACpCzB,OAAQ,OACRC,QAASuB,KAAKvB,QACdC,KAAMC,KAAKC,UAAU,CACnBhF,KAAMA,EACNF,KAAMA,MAIPmF,KAAKmB,KAAKE,kB,wBAGf,SAAWG,GACT,OAAO9B,MAAM,GAAD,OAAIyB,KAAKC,QAAT,kBAA0BI,GAAU,CAC9C7B,OAAQ,SACRC,QAASuB,KAAKvB,UAGbI,KAAKmB,KAAKE,kB,+BAEf,SAAkBI,GAChB,OAAO/B,MAAM,GAAD,OAAIyB,KAAKC,QAAT,oBAAoC,CAC9CzB,OAAQ,QACRC,QAASuB,KAAKvB,QACdC,KAAMC,KAAKC,UAAU,CACnB5E,OAAQsG,MAGTzB,KAAKmB,KAAKE,kB,qBAEf,SAAQG,GACN,OAAO9B,MAAM,GAAD,OAAIyB,KAAKC,QAAT,wBAAgCI,GAAU,CACpD7B,OAAQ,MACRC,QAASuB,KAAKvB,UAGbI,KAAKmB,KAAKE,kB,wBAEf,SAAWG,GACT,OAAO9B,MAAM,GAAD,OAAIyB,KAAKC,QAAT,wBAAgCI,GAAU,CACpD7B,OAAQ,SACRC,QAASuB,KAAKvB,UAGbI,KAAKmB,KAAKE,kB,kCAEf,SAAqBG,EAAQrH,GAC3B,OAAIA,EACKgH,KAAKO,QAAQF,GAEbL,KAAKQ,WAAWH,O,KAKV,CAAQ,CACzBJ,QAAS,8CACTxB,QAAS,CACPgC,cAAe,uCACf,eAAgB,sBC9ELC,MAjBf,SAAqBvK,GAMnB,OAJAa,IAAMiB,WAAU,WACd9B,EAAM6E,SAAS7E,EAAM8E,UACpB,CAAC9E,EAAM8E,OAAQ9E,EAAM6E,WAGtB,qBAAK5E,UAAS,gBAAWD,EAAM8E,QAAU,gBAAkBtE,QAASR,EAAMwF,aAA1E,SACE,uBAAMvF,UAAU,uCAAuCwD,KAAK,qBAA5D,UACE,wBAAQxD,UAAU,eAAekD,KAAK,SAAS3C,QAASR,EAAM4F,UAC9D,qBAAK3F,UAAU,4BAA4BqD,IAAKtD,EAAMsD,IAAKE,IAAI,uEAC/D,oBAAIvD,UAAU,yCAAd,SAAwDD,EAAM6F,cCbvD,MAA0B,oCCA1B,MAA0B,iCCkU1BmC,mBA7Sf,SAAahI,GAAQ,IAAD,EAC0Ca,IAAMC,UAAS,GADzD,mBACX0J,EADW,KACaC,EADb,OAEoC5J,IAAMC,UAAS,GAFnD,mBAEX4J,EAFW,KAEUC,EAFV,OAGwC9J,IAAMC,UAAS,GAHvD,mBAGX8J,EAHW,KAGYC,EAHZ,OAIgChK,IAAMC,UAAS,GAJ/C,mBAIXgK,EAJW,KAIQC,EAJR,OAKsBlK,IAAMC,SAAS,CAAEyC,KAAM,KAL7C,mBAKXyH,EALW,KAKGC,EALH,OAMsCpK,IAAMC,UAAS,GANrD,mBAMXoK,EANW,KAMWC,EANX,OAOoBtK,IAAMC,SAAS,CAAE2C,KAAM,GAAIM,MAAO,GAAIF,OAAQ,KAPlE,mBAOXrB,EAPW,KAOE4I,EAPF,OAQQvK,IAAMC,SAAS,IARvB,mBAQXqD,EARW,KAQJkH,GARI,QASYxK,IAAMC,UAAS,GAT3B,qBASXwK,GATW,MASFC,GATE,SAUkB1K,IAAMC,SAAS,CAAEiF,QAAQ,EAAOG,YAAa,2DAV/D,qBAUXsF,GAVW,MAUCC,GAVD,SAWgB5K,IAAMC,SAAS,CAAEiF,QAAQ,EAAOG,YAAa,+CAX7D,qBAWXwF,GAXW,MAWAC,GAXA,SAYsB9K,IAAMC,SAAS,CAAEiF,QAAQ,EAAOG,YAAa,iBAZnE,qBAYX0F,GAZW,MAYGC,GAZH,SAcchL,IAAMC,UAAS,GAd7B,qBAcXX,GAdW,MAcD2L,GAdC,SAgBsCjL,IAAMC,UAAS,GAhBrD,qBAgBXiL,GAhBW,MAgBWC,GAhBX,SAiB8BnL,IAAMC,UAAS,GAjB7C,qBAiBXmL,GAjBW,MAiBOC,GAjBP,SAkB0BrL,IAAMC,UAAS,GAlBzC,qBAkBXqL,GAlBW,MAkBKC,GAlBL,SAoBkCvL,IAAMC,UAAS,GApBjD,qBAoBXuL,GApBW,MAoBSC,GApBT,SAqB4BzL,IAAMC,UAAS,GArB3C,qBAqBXyL,GArBW,MAqBMC,GArBN,SAsBU3L,IAAMC,UAAS,GAtBzB,qBAsBXR,GAtBW,MAsBHmM,GAtBG,SAuBM5L,IAAMC,UAAS,GAvBrB,qBAuBXiB,GAvBW,MAuBL2K,GAvBK,SAwBQ7L,IAAMC,SAAS,IAxBvB,qBAwBXV,GAxBW,MAwBJ6H,GAxBI,MA2BlB,SAAS0E,GAAa5G,EAAQG,EAAa0G,GACzCA,EAAS,CAAE7G,OAAQA,EAAQG,YAAaA,IAqB1C,SAAS2G,KACPpC,GAA0B,GAC1BE,GAAuB,GACvBE,GAAyB,GACzBE,GAAqB,GACrBI,GAAwB,GACxBqB,IAAmB,GACnBF,IAAsB,GACtBQ,SAASC,oBAAoB,UAAWlI,IAE1C,SAASA,GAASmI,GACA,WAAZA,EAAIC,KACNJ,KAIJ,SAASK,GAAepI,GAClBA,GACFgI,SAASK,iBAAiB,UAAWtI,IAIzC,SAASuI,GAAmBJ,GACtBA,EAAI7F,OAAOkG,UAAUC,SAAS,iBAChCT,KAmGJ,SAASU,KACHlM,aAAamM,QAAQ,UPlJH,SAACrE,GACzB,OAAOf,MAAM,GAAD,OAAIL,EAAJ,aAAyB,CACnCM,OAAQ,MACRC,QAAS,CACP,eAAgB,mBAChB,cAAgB,UAAhB,OAA2Ba,MAG5BT,MAAK,SAAAC,GAAG,OAAIA,EAAIE,UAChBH,MAAK,SAAAO,GAAI,OAAIA,KACbG,OAAM,SAAAC,GAAG,OAAI1H,QAAQC,IAAIyH,MO0IxBC,CADcjI,aAAamM,QAAQ,UAEhC9E,MAAK,SAACC,GACDA,IACFmD,IAAY,GACZ9L,EAAMkB,QAAQK,KAAK,KACnB0G,GAASU,EAAIM,KAAK7I,WAGrBgJ,OAAM,SAACC,GAAD,OAAS1H,QAAQC,IAAIyH,MAIlC,SAASxH,KACP4K,IAAWnM,IAQb,OA3GAO,IAAMiB,WAAU,WACd6H,EAAI8D,cACD/E,MAAK,SAACO,GACLmC,EAAenC,MAEhBG,OAAM,SAACC,GACN1H,QAAQC,IAAIyH,MAEhBkC,IAAW,GACX5B,EAAI+D,kBACDhF,MAAK,SAACO,GACLoC,GAASpC,GACTtH,QAAQC,IAAIqH,GACZsC,IAAW,MAEZnC,OAAM,SAACC,GACN1H,QAAQC,IAAIyH,QAEf,IAoFHxI,IAAMiB,WAAU,WACdyL,OACC,IAID,eAACnL,EAAmBuL,SAApB,CAA6BtI,MAAO7C,EAApC,UACE,cAAC,EAAD,CACCf,YAAawG,GACbvG,WAAYoK,GACZvL,OAAQwB,GACRP,OAAQkL,GACRtM,MAAOA,GACPyB,WAAYA,GACZvB,OAAQA,GACRH,SAAUA,KACX,eAAC,IAAD,WACE,cAAC,EAAD,CACEyN,MAAQ,QACRC,KAAK,IACL/F,UAAWlE,EACXE,aA/KR,WACE+G,GAAyB,IA+KnB7G,cAtLR,WACEyG,GAA0B,IAsLpBxG,WApLR,WACE0G,GAAuB,IAoLjBrG,YAvIR,SAAyB/B,GACvB0I,EAAgB1I,GAChB4I,GAAwB,IAsIlB9H,cA3IR,WACE0H,GAAqB,IA2If5G,MAAOA,EACPT,WA7GR,SAAwBnB,GACtB,IAAMM,EAAUN,EAAKO,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEJ,MAAQJ,EAAYI,OAC3D+G,EAAImE,qBAAqBvL,EAAKK,KAAMC,GAAS6F,MAAK,SAACqF,GACjD1C,IAAS,SAAC2C,GAAD,OAAWA,EAAM5J,KAAI,SAAC6J,GAAD,OAAOA,EAAErL,MAAQL,EAAKK,IAAMmL,EAAUE,WAEnE7E,OAAM,SAACC,GACN1H,QAAQC,IAAIyH,OAwGVjG,aAtIR,SAA0Bb,GACxB0I,EAAgB1I,IAsIV2B,UAAWoH,GACXnL,SAAUA,KACZ,cAAC,IAAD,CAAOyN,OAAK,EAACC,KAAK,WAAlB,SACE,cAAC,EAAD,CACErM,OAAQkL,GACRzE,SAAUA,GACVuB,WAAYsC,GACZrC,OAtLV,WACE+C,IAAmB,QAuLf,cAAC,IAAD,CAAOoB,OAAK,EAACC,KAAK,WAAlB,SACE,cAAC,EAAD,CACEvN,OAAQA,GACRuB,WAAYA,GACZ6H,UAhMV,WACE4C,IAAsB,QAiMlB,cAAC,IAAD,UACGnM,GAAW,cAAC,IAAD,CAAUE,GAAG,sBAAyB,cAAC,IAAD,CAAUA,GAAG,mCAGlEF,IAAY,cAAC,EAAD,IACb,cAAC,EAAD,CACE2E,OAAQ0F,EACR5E,QAASiH,GACThI,SAAUqI,GACV1H,aAAc4H,GACdlG,aAjHN,YAA4C,IAAhBzD,EAAe,EAAfA,KAAMM,EAAS,EAATA,MAChC4I,IAAa,EAAM,kEAAiBlB,IACpC9B,EAAIuE,YAAYzK,EAAMM,GACnB2E,MAAK,SAACO,GACLmC,EAAenC,GACf0D,IAAa,EAAO,yDAAalB,IACjCoB,QAGDzD,OAAM,SAACC,GACN1H,QAAQC,IAAIyH,OAwGZnD,YAAasF,GACbxF,eAAgB+F,GAChBxG,eAAgByG,KAClB,cAAC,EAAD,CACElH,OAAQ4F,EACR9E,QAASiH,GACThI,SAAUqI,GACV1H,aAAc4H,GACdnJ,WA/FN,YAAyC,IAAfR,EAAc,EAAdA,KAAMF,EAAQ,EAARA,KAC9BoJ,IAAa,EAAM,sDAAehB,IAClChC,EAAIwE,QAAQ1K,EAAMF,GACfmF,MAAK,SAACqF,GACL1C,GAAS,CAAC0C,GAAF,mBAAc5J,KACtBwI,IAAa,EAAO,6CAAWhB,IAC/BkB,QAEDzD,OAAM,SAACC,GACN1H,QAAQC,IAAIyH,OAuFZnD,YAAawF,GACb1F,eAAgBiG,GAChB1G,eAAgB2G,KAClB,cAAC,EAAD,CACEpH,OAAQ8F,EACRhF,QAASiH,GACThI,SAAUqI,GACV1H,aAAc4H,GACd7F,eArHN,YAAyC,IAAX1D,EAAU,EAAVA,OAC5B8I,IAAa,EAAM,kEAAiBlB,IACpC9B,EAAIyE,kBAAkBvK,GACnB6E,MAAK,SAACO,GACLmC,EAAenC,GACf0D,IAAa,EAAO,yDAAalB,IACjCoB,QAEDzD,OAAM,SAACC,GACN1H,QAAQC,IAAIyH,OA6GZnD,YAAasF,GACbxF,eAAgBmG,GAChB5G,eAAgB6G,KAClB,cAAC,EAAD,CACE7J,KAAMyI,EACNlG,OAAQgG,EACRlF,QAASiH,GACThI,SAAUqI,GACV1H,aAAc4H,GACdhK,aA1JN,SAA0Bb,GACxBoK,IAAa,EAAM,sDAAed,IAClClC,EAAI0E,WAAW9L,EAAKK,KACjB8F,MAAK,WACJ,IAAM4F,EAAWnK,EAAMoK,QAAO,SAAAlK,GAAI,OAAIA,EAAKzB,MAAQL,EAAKK,OACxD+J,IAAa,EAAO,eAAMd,IAC1BR,GAASiD,MAEVlF,OAAM,SAACC,GACN1H,QAAQC,IAAIyH,OAkJZnD,YAAa0F,KACf,cAAC,EAAD,CACE9G,OAAQoG,EACR3I,KAAMyI,EACNpF,QAASiH,GACThI,SAAUqI,GACV1H,aAAc4H,KAChB,cAAC,EAAD,CACEtI,OAAQuH,GACRzG,QAASiH,GACThI,SAAUqI,GACV1H,aAAc4H,GACd9J,IAAKkL,EACL3I,MAAM,0KACR,cAAC,EAAD,CACEf,OAAQyH,GACR3G,QAASiH,GACThI,SAAUqI,GACV1H,aAAc4H,GACd9J,IAAKmL,EACL5I,MAAM,gNC/SC6I,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBlG,MAAK,YAAkD,IAA/CmG,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAAC,EAAD,QAGJtC,SAASuC,eAAe,SAM1BX,M","file":"static/js/main.a4224ca7.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Hamburger(props) {\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className={`header__wrapper_hamburger ${props.isHamburger && 'header__wrapper_visible'} ${!props.loggedIn && 'header__wrapper_hidden'}`} >\r\n\t\t\t\t<p className=\"header__email_hamburger\">{props.email}</p>\r\n\t\t\t\t<Link\r\n\t\t\t\t\tto={(props.isAuth && !props.isExit) ? (!props.isAuth ? '/sign-up' : '/sign-in') : '/sign-in'}\r\n\t\t\t\t\tclassName=\"header__link header__link_exit\"\r\n\t\t\t\t\tonClick={props.onHandleState}>\r\n\t\t\t\t\t{props.linkState}\r\n\t\t\t\t</Link>\r\n\r\n\t\t\t</div>\r\n\t\t\t<header className={`header__hamburger ${!props.loggedIn && 'header__wrapper_hidden'}`}>\r\n\t\t\t\t<div className=\"header__logo\"></div>\r\n\t\t\t\t<button className={`header__menu ${props.isHamburger && 'header__menu_exit'}`} onClick={props.onSetHamburger}></button>\r\n\t\t\t</header>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default Hamburger;","import React from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport Hamburger from './Hamburger';\r\n\r\nfunction Header(props) {\r\n\r\n  const [hamburger, setHamburger] = React.useState(false);\r\n  const [linkState, setLinkState] = React.useState('');\r\n\r\n\r\n  const history = useHistory();\r\n\r\n  function signOut() {\r\n    localStorage.removeItem('token');\r\n    history.push('/sign-in');\r\n    props.onExit(false);\r\n    props.removeEmail('');\r\n    props.isLoggedIn(false);\r\n    console.log(props.loggedIn);\r\n    setHamburger(false);\r\n  }\r\n\r\n  function changeOfState() {\r\n    if (props.isExit) {\r\n      setLinkState('Выйти');\r\n    } else {\r\n      setLinkState(props.isAuth ? 'Регистрация' : 'Войти')\r\n    }\r\n  }\r\n\r\n  function handleState() {\r\n    if (props.isExit) {\r\n      signOut();\r\n    } else {\r\n      props.handleLink();\r\n    }\r\n  }\r\n\r\n\r\n\r\n  function handleHamburger() {\r\n    setHamburger(!hamburger);\r\n  }\r\n  React.useEffect(() => {\r\n    changeOfState();\r\n  }, [props.isExit, props.isAuth])\r\n\r\n  React.useEffect(() => {\r\n    if (props.loggedIn) props.onExit(true)\r\n  }, [props.loggedIn])\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <Hamburger\r\n        linkState={linkState}\r\n        email={props.email}\r\n        onSetHamburger={handleHamburger}\r\n        isHamburger={hamburger}\r\n        isExit={props.exit}\r\n        isAuth={props.isAuth}\r\n        onHandleState={handleState}\r\n        loggedIn={props.loggedIn} />\r\n      <div className={`header__desktop ${!props.loggedIn && 'header__wrapper_visible'}`}>\r\n        <div className=\"header__logo\"></div>\r\n        <div className=\"header__wrapper\">\r\n          <p className=\"header__email\">{props.email}</p>\r\n          <Link\r\n            to={(props.isAuth && !props.isExit) ? (props.isAuth ? '/sign-up' : '/sign-in') : '/sign-in'}\r\n            onClick={handleState}\r\n            className={`header__link ${props.isExit && 'header__link_exit'}`}\r\n            href=\"#\">{linkState}\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; 2020 - {new Date().getFullYear()} Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nfunction Card(props) {\r\n\r\n  const card = props.card;\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n\r\n  const cardDeleteButtonClassName = (`gallery__button-delete ${isOwn ? '' : 'gallery__button-delete_hidden'}`);\r\n  const cardLikeButtonClassName = (`gallery__button ${isLiked && 'gallery__button_like'}`);\r\n\r\n  function handleClick() {\r\n    props.onClick(card)\r\n  }\r\n  function handleLikeClick() {\r\n    props.onCardLike(card)\r\n  }\r\n  function handleDeleteClick() {\r\n    props.onCardDelete(card);\r\n    props.onDeleteClick();\r\n  }\r\n\r\n  return (\r\n    <article className=\"gallery__card\">\r\n      <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleDeleteClick}></button>\r\n      <img className=\"gallery__image\" src={card.link} alt={card.name} onClick={handleClick} />\r\n      <div className=\"gallery__wrapper\">\r\n        <h2 className=\"gallery__name\">{card.name}</h2>\r\n        <div className=\"gallery__button-wrapper\">\r\n          <button className={cardLikeButtonClassName} onClick={handleLikeClick} type=\"button\"></button>\r\n          <span className=\"gallery__button-counter\">{card.likes.length}</span>\r\n        </div>\r\n      </div>\r\n    </article>\r\n  );\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__avatar-container\">\r\n            <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Avatar\" />\r\n            <button className=\"profile__avatar-button\" onClick={props.onEditAvatar}></button>\r\n          </div>\r\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n          <p className=\"profile__job\">{currentUser.about}</p>\r\n          <button className=\"profile__button-edit\" type=\"button\" onClick={props.onEditProfile}></button>\r\n        </div>\r\n        <button className=\"profile__button-add\" type=\"button\" onClick={props.onAddPlace}></button>\r\n      </section>\r\n      <section>\r\n        <div className={`${props.isLoading && 'loading'}`}></div>\r\n        <div className=\"gallery\">\r\n          {props.cards.map((item) => (\r\n            <Card key={item._id}\r\n              onCardDelete={props.onCardDelete}\r\n              onCardLike={props.onCardLike}\r\n              card={item}\r\n              onClick={props.onCardClick}\r\n              onDeleteClick={props.onDeleteClick} />\r\n          ))}\r\n        </div>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;","import React from \"react\";\r\n\r\nfunction PopupWithForm(props) {\r\n\r\n  const children = props.children;\r\n  const [buttonState, setButtonState] = React.useState(true);\r\n  const formRef = React.useRef();\r\n\r\n  React.useEffect(() => {\r\n    props.escClose(props.isOpen);\r\n  }, [props.isOpen, props.escClose])\r\n\r\n  React.useEffect(() => {\r\n    if (formRef.current && formRef.current.checkValidity() && Array.from(children).every((input) => input.props.value.trim() !== '')) {\r\n      setButtonState(false);\r\n      props.onButtonActive(false);\r\n    } else {\r\n      setButtonState(true);\r\n      props.onButtonActive(true);\r\n    }\r\n  })\r\n\r\n  return (\r\n    <div className={`popup popup_${props.name} ${props.isOpen && 'popup_opened'}`} onClick={props.overlayClose}>\r\n      <form ref={formRef} className={`popup__container popup__container_form popup__${props.name}-form`} name={`popup_${props.name}`} onSubmit={props.onSubmit} noValidate>\r\n        <button className=\"popup__close\" type=\"button\" onClick={props.onClose} ></button>\r\n        <h2 className={`popup__title popup__title-${props.name}`}>{props.title}</h2>\r\n        {children}\r\n        <button className={`popup__submit ${props.button.isLoad && 'popup__submit_loading'} ${props.isButtonActive && 'popup__button_invalid'}`} type=\"submit\" disabled={buttonState}>\r\n          {props.button.buttonTitle}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\n\r\nfunction InputForm(props) {\r\n\r\n  const [error, setError] = React.useState('');\r\n\r\n\r\n\r\n  function handleChange(e) {\r\n    props.onChange(e);\r\n    // if (e.target.value.trim().length < 2 && e.target.validationMessage === '') {\r\n    //   setError('Слово должно содержать как минимум 2 символа помимо пробелов.');\r\n\r\n    // } else {\r\n    //   setError(e.target.validationMessage);\r\n    // }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    if (!props.isOpen) { setError('') }\r\n  }, [props.isOpen])\r\n  return (\r\n    <>\r\n      <input ref={props.ref} value={props.value} onChange={handleChange} className={props.className} id={props.id} type={props.type} minLength={props.minLength} maxLength={props.maxLength} placeholder={props.placeholder} name={props.name} required/>\r\n      <span className=\"popup__error\">{error}</span>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default InputForm;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport InputForm from './InputForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  function handleName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleDescription(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateUser({\r\n      name: name.trim(),\r\n      about: description.trim(),\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n  return (\r\n    <PopupWithForm\r\n      name=\"profile\"\r\n      title=\"Редактировать профиль\"\r\n      button={props.buttonTitle}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      escClose={props.escClose}\r\n      overlayClose={props.overlayClose}\r\n      onSubmit={handleSubmit}\r\n      isButtonActive={props.isButtonActive}\r\n      onButtonActive={props.onButtonActive}>\r\n      <InputForm\r\n        value={name}\r\n        onChange={handleName}\r\n        className=\"popup__name popup__input popup_profile_name\"\r\n        id=\"name-card-profile\"\r\n        type=\"text\"\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        placeholder=\"Имя\"\r\n        name=\"input_name_profile\"\r\n        isOpen={props.isOpen}>\r\n      </InputForm>\r\n      <InputForm\r\n        value={description}\r\n        onChange={handleDescription}\r\n        className=\"popup__job popup__input popup_profile_job\"\r\n        id=\"job-card\"\r\n        type=\"text\"\r\n        minLength=\"2\"\r\n        maxLength=\"200\"\r\n        placeholder=\"Профессия\"\r\n        name=\"input_job_profile\"\r\n        isOpen={props.isOpen}>\r\n      </InputForm>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;","import React from \"react\";\r\n\r\nfunction ImagePopup(props) {\r\n\r\n  React.useEffect(() => {\r\n    props.escClose(props.isOpen);\r\n  }, [props.isOpen, props.escClose])\r\n\r\n  return (\r\n    <div className={`popup popup_fullsize_wrapper ${props.isOpen && 'popup_opened'}`} onClick={props.overlayClose}>\r\n      <form className=\"popup__container popup__fullsize\" name=\"popup_fullsize\"  >\r\n        <button className=\"popup__close\" type=\"button\" onClick={props.onClose}></button>\r\n        <img className=\"popup__image-fullsize\" src={props.card.link} alt={props.card.name} />\r\n        <h2 className=\"popup__title popup__title-fullsize\">{props.card.name}</h2>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport InputForm from './InputForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const [avatar, setAvatar] = React.useState('');\r\n\r\n  function handleAvatar(e) {\r\n    setAvatar(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateAvatar({\r\n      avatar: avatar\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"save_avatar\"\r\n      title=\"Обновить аватар\"\r\n      button={props.buttonTitle}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      escClose={props.escClose}\r\n      overlayClose={props.overlayClose}\r\n      onSubmit={handleSubmit}\r\n      isButtonActive={props.isButtonActive}\r\n      onButtonActive={props.onButtonActive}>\r\n      <InputForm\r\n        value={avatar}\r\n        onChange={handleAvatar}\r\n        className=\"popup__job popup__link popup__input\"\r\n        id=\"link-avatar\"\r\n        type=\"url\"\r\n        placeholder=\"Ссылка для картинки\"\r\n        name=\"input_link_profile\"\r\n        isOpen={props.isOpen}>\r\n      </InputForm>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport InputForm from './InputForm';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\n\r\nfunction AddPlacePopup(props) {\r\n  const [name, setName] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n\r\n  function handleName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleLink(e) {\r\n    setLink(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onAddPlace({\r\n      name: name.trim(),\r\n      link: link,\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName('');\r\n    setLink('');\r\n  }, [props.isOpen])\r\n\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"gallery\"\r\n      title=\"Новая карточка\"\r\n      button={props.buttonTitle}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      escClose={props.escClose}\r\n      overlayClose={props.overlayClose}\r\n      onSubmit={handleSubmit}\r\n      isButtonActive={props.isButtonActive}\r\n      onButtonActive={props.onButtonActive}>\r\n      <InputForm\r\n        value={name}\r\n        onChange={handleName}\r\n        className=\"popup__name popup__name_gallery popup__input\"\r\n        id=\"name-card\"\r\n        type=\"text\"\r\n        minLength=\"2\"\r\n        maxLength=\"30\"\r\n        placeholder=\"Название карточки\"\r\n        name=\"input_name_gallery\"\r\n        isOpen={props.isOpen}>\r\n      </InputForm>\r\n      <InputForm\r\n        value={link}\r\n        onChange={handleLink}\r\n        className=\"popup__job popup__link popup__input\"\r\n        id=\"link-card\"\r\n        type=\"url\"\r\n        placeholder=\"Ссылка для картинки\"\r\n        name=\"input_link_gallery\"\r\n        isOpen={props.isOpen}\r\n        xName={link}>\r\n      </InputForm>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\n\r\nfunction DeletePopup(props) {\r\n\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onCardDelete(props.card);\r\n    props.onClose();\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    props.escClose(props.isOpen);\r\n  }, [props.isOpen, props.escClose])\r\n\r\n  return (\r\n    <div className={`popup popup_delete_card ${props.isOpen && 'popup_opened'}`} onClick={props.overlayClose}> \r\n<form className=\"popup__container popup__container_form popup__delete-form\" name=\"popup_delete\" noValidate> \r\n    <button className=\"popup__close popup__close_delete\" type=\"button\"  onClick={props.onClose}></button> \r\n    <h2 className=\"popup__title popup__title-delete\">Вы уверены?</h2> \r\n    <button className={`popup__submit popup__submit_delete ${props.buttonTitle.isLoad && 'popup__submit_loading'}`} type=\"button\" onClick={handleSubmit}>{props.buttonTitle.buttonTitle}</button> \r\n</form> \r\n</div> \r\n  );\r\n}\r\n\r\nexport default DeletePopup;\r\n\r\n\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute; ","export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nexport const register = (email, password) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      \"Content-Type\": \"application/json\"\r\n    },\r\n    body: JSON.stringify({ email, password })\r\n  })\r\n  .then(res => {\r\n    if (!res.ok){\r\n      return Promise.reject(res.status)\r\n    } else{\r\n      console.log(res)\r\n      return res.json();\r\n    }\r\n  })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const authorize = (email, password) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      \"Content-Type\": \"application/json\"\r\n    },\r\n    body: JSON.stringify({ email, password })\r\n  })\r\n  .then(res => {\r\n    if (!res.ok){\r\n      return Promise.reject(res.status)\r\n    } else{\r\n      console.log(res)\r\n      return res.json();\r\n    }\r\n  })\r\n    .then((data) => {\r\n      if (data) {\r\n        localStorage.setItem('token', data.token);\r\n        return data;\r\n      }else {\r\n        return;\r\n      }\r\n    })\r\n    .catch(err => console.log(err))\r\n};\r\n\r\nexport const checkToken = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      \"Authorization\": `Bearer ${token}`\r\n    }\r\n  })\r\n    .then(res => res.json())\r\n    .then(data => data)\r\n    .catch(err => console.log(err))\r\n};","import React from 'react';\r\nimport InputForm from './InputForm';\r\nimport * as auth from '../utils/auth.js';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\n\r\nfunction Login(props) {\r\n\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  function handleEmail(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n\r\n  function handlePassword(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    auth.authorize(email, password)\r\n      .then((res) => {\r\n        if (res.statusCode !== 401) {\r\n          props.setEmail(email);\r\n          props.onLoggedIn(true);\r\n          props.onExit(true);\r\n          props.history.push('/');\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        props.onFail();\r\n        console.log(err)\r\n      }\r\n      );\r\n  }\r\n  return (\r\n    <div className=\"passp-content\" >\r\n      <form className=\"passp-content__form\" noValidate onSubmit={handleSubmit}>\r\n        <h2 className=\"passp-content__title\">Вход</h2>\r\n        <InputForm onChange={handleEmail} value={email} className=\"passp-content__input\" placeholder=\"Email\" type=\"email\"></InputForm>\r\n        <InputForm onChange={handlePassword} value={password} className=\"passp-content__input\" placeholder=\"Пароль\" type=\"password\"></InputForm>\r\n        <button className=\"passp-content__button-submit\" type=\"submit\">Войти</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withRouter(Login);","import React from 'react';\r\nimport InputForm from './InputForm';\r\nimport * as auth from '../utils/auth.js';\r\nimport { Link, withRouter } from 'react-router-dom';\r\n\r\nfunction Register(props) {\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  function handleEmail(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n\r\n  function handlePassword(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    auth.register(email, password)\r\n      .then((res) => {\r\n        if (res.statusCode !== 400) {\r\n          props.onSuccess();\r\n          props.history.push('/sign-in');\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    if (props.isAuth) props.handleLink()\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"passp-content\">\r\n      <form className=\"passp-content__form\" noValidate onSubmit={handleSubmit}>\r\n        <h2 className=\"passp-content__title\">Регистрация</h2>\r\n        <InputForm onChange={handleEmail} value={email} className=\"passp-content__input\" placeholder=\"Email\" type=\"email\"></InputForm>\r\n        <InputForm onChange={handlePassword} value={password} className=\"passp-content__input\" placeholder=\"Пароль\" type=\"password\"></InputForm>\r\n        <button className=\"passp-content__button-submit\" >Зарегистрироваться</button>\r\n      </form>\r\n      <p className=\"passp-content__check\">Уже зарегистрированы? <Link to=\"sign-in\" onClick={props.handleLink} className=\"passp-content__link\" href=\"#\">Войти</Link></p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withRouter(Register);\r\n","class Api {\r\n  constructor(options) {\r\n    this.baseUrl = options.baseUrl;\r\n    this.headers = options.headers;\r\n  }\r\n  _checkResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка ${res.status}`);\r\n  }\r\n  getInitialCards() {\r\n    return fetch(`${this.baseUrl}/cards`, {\r\n      headers: this.headers\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this.baseUrl}/users/me`, {\r\n      headers: this.headers\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  setUserInfo(newName, newAbout) {\r\n    return fetch(`${this.baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this.headers,\r\n      body: JSON.stringify({\r\n        name: newName,\r\n        about: newAbout\r\n      })\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  addCard(name, link) {\r\n    return fetch(`${this.baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: this.headers,\r\n      body: JSON.stringify({\r\n        name: name,\r\n        link: link\r\n      })\r\n\r\n    })\r\n      .then(this._checkResponse)\r\n\r\n  }\r\n  deleteCard(cardId) {\r\n    return fetch(`${this.baseUrl}/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: this.headers,\r\n\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n  updateAvatarImage(imageUrl) {\r\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this.headers,\r\n      body: JSON.stringify({\r\n        avatar: imageUrl\r\n      })\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n  addLike(cardId) {\r\n    return fetch(`${this.baseUrl}/cards/likes/${cardId}`, {\r\n      method: 'PUT',\r\n      headers: this.headers,\r\n\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n  removeLike(cardId) {\r\n    return fetch(`${this.baseUrl}/cards/likes/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: this.headers,\r\n\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n  changeLikeCardStatus(cardId, isLiked) {\r\n    if (isLiked) {\r\n      return this.addLike(cardId)\r\n    } else {\r\n      return this.removeLike(cardId)\r\n    }\r\n  }\r\n}\r\n\r\nexport const api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-20',\r\n  headers: {\r\n    authorization: 'cb025162-3fd1-4801-ae0e-3ba5aa323c64',\r\n    'Content-Type': 'application/json'\r\n  }\r\n});","import React from 'react';\r\n\r\nfunction InfoTooltip(props) {\r\n\r\n  React.useEffect(() => {\r\n    props.escClose(props.isOpen);\r\n  }, [props.isOpen, props.escClose])\r\n\r\n  return (\r\n    <div className={`popup ${props.isOpen && 'popup_opened'}`} onClick={props.overlayClose}>\r\n      <form className=\"popup__container popup__notification\" name=\"popup_notification\">\r\n        <button className=\"popup__close\" type=\"button\" onClick={props.onClose}></button>\r\n        <img className=\"popup__image-notification\" src={props.src} alt=\"Уведомление\"/>\r\n        <h2 className=\"popup__title popup__title-notification\">{props.title}</h2>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;","export default __webpack_public_path__ + \"static/media/success.a9eb6caf.svg\";","export default __webpack_public_path__ + \"static/media/fail.d4ce2a26.svg\";","import Header from './Header';\r\nimport Footer from './Footer';\r\nimport Main from './Main';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport ImagePopup from './ImagePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport DeletePopup from './DeletePopup';\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport Login from './Login';\r\nimport Register from './Register';\r\nimport { api } from '../utils/api';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport React from 'react';\r\nimport { Route, Switch, Redirect, withRouter } from 'react-router-dom';\r\nimport InfoTooltip from './InfoTooltip';\r\nimport successImage from '../images/success.svg';\r\nimport failImage from '../images/fail.svg';\r\nimport * as auth from '../utils/auth.js';\r\n\r\n\r\nfunction App(props) {\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n  const [isDeletePopupOpen, setIsDeletePopupOpen] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState({ link: '' });\r\n  const [isPopupWithImageOpen, setIsPopupWithImageOpen] = React.useState(false);\r\n  const [currentUser, setCurrentUser] = React.useState({ name: '', about: '', avatar: '' });\r\n  const [cards, setCards] = React.useState([]);\r\n  const [loading, setLoading] = React.useState(false);\r\n  const [buttonSave, setButtonSave] = React.useState({ isLoad: false, buttonTitle: 'Сохранить' });\r\n  const [buttonAdd, setButtonAdd] = React.useState({ isLoad: false, buttonTitle: 'Создать' });\r\n  const [buttonDelete, setButtonDelete] = React.useState({ isLoad: false, buttonTitle: 'Да' });\r\n\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n\r\n  const [isButtonEdditProfile, setIsButtonEdditProfile] = React.useState(false);\r\n  const [isButtonAddPlace, setIsButtonAddPlace] = React.useState(false);\r\n  const [isButtonAvatar, setIsButtonAvatar] = React.useState(false);\r\n\r\n  const [isSuccessPopupOpen, setIsSuccessPopupOpen] = React.useState(false);\r\n  const [isFailPopupOpen, setIsFailPopupOpen] = React.useState(false);\r\n  const [isAuth, setIsAuth] = React.useState(true);\r\n  const [exit, setExit] = React.useState(false);\r\n  const [email, setEmail] = React.useState('');\r\n  \r\n\r\n  function handleButton(isLoad, buttonTitle, setState) {\r\n    setState({ isLoad: isLoad, buttonTitle: buttonTitle })\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleSuccessPopupClick() {\r\n    setIsSuccessPopupOpen(true);\r\n  }\r\n\r\n  function handleFailPopupClick() {\r\n    setIsFailPopupOpen(true);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsDeletePopupOpen(false);\r\n    setIsPopupWithImageOpen(false);\r\n    setIsFailPopupOpen(false);\r\n    setIsSuccessPopupOpen(false);\r\n    document.removeEventListener('keydown', escClose);\r\n  }\r\n  function escClose(evt) {\r\n    if (evt.key === 'Escape') {\r\n      closeAllPopups();\r\n    }\r\n  }\r\n\r\n  function handleEscClose(isOpen) {\r\n    if (isOpen) {\r\n      document.addEventListener('keydown', escClose)\r\n    }\r\n  }\r\n\r\n  function handleOverlayClose(evt) {\r\n    if (evt.target.classList.contains('popup_opened')) {\r\n      closeAllPopups();\r\n    }\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    setIsDeletePopupOpen(true);\r\n  }\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n    setIsPopupWithImageOpen(true)\r\n  }\r\n\r\n  function handleDeleteCard(card) {\r\n    setSelectedCard(card)\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    api.getUserInfo()\r\n      .then((data) => {\r\n        setCurrentUser(data)\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n    setLoading(true);\r\n    api.getInitialCards()\r\n      .then((data) => {\r\n        setCards(data);\r\n        console.log(data);\r\n        setLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }, [])\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\r\n      setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n    })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    handleButton(true, 'Удаление...', setButtonDelete)\r\n    api.deleteCard(card._id)\r\n      .then(() => {\r\n        const newCards = cards.filter(item => item._id !== card._id);\r\n        handleButton(false, 'Да', setButtonDelete);\r\n        setCards(newCards);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  function handleUpdateUser({ name, about }) {\r\n    handleButton(true, 'Сохранение...', setButtonSave);\r\n    api.setUserInfo(name, about)\r\n      .then((data) => {\r\n        setCurrentUser(data);\r\n        handleButton(false, 'Сохранить', setButtonSave);\r\n        closeAllPopups();\r\n\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  function handleUpdateAvatar({ avatar }) {\r\n    handleButton(true, 'Сохранение...', setButtonSave);\r\n    api.updateAvatarImage(avatar)\r\n      .then((data) => {\r\n        setCurrentUser(data);\r\n        handleButton(false, 'Сохранить', setButtonSave);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  function handleAddPlace({ name, link }) {\r\n    handleButton(true, 'Создание...', setButtonAdd);\r\n    api.addCard(name, link)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        handleButton(false, 'Создать', setButtonAdd);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  function handleTokenCheck() {\r\n    if (localStorage.getItem('token')) {\r\n      const token = localStorage.getItem('token');\r\n      auth.checkToken(token)\r\n        .then((res) => {\r\n          if (res) {\r\n            setLoggedIn(true);\r\n            props.history.push('/')\r\n            setEmail(res.data.email);\r\n          }\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  }\r\n \r\n  function handleLink() {\r\n    setIsAuth(!isAuth);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    handleTokenCheck();\r\n  }, [])\r\n\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <Header\r\n       removeEmail={setEmail}\r\n       isLoggedIn={setLoggedIn}\r\n       isExit={exit}\r\n       onExit={setExit}\r\n       email={email}\r\n       handleLink={handleLink}\r\n       isAuth={isAuth} \r\n       loggedIn={loggedIn}/>\r\n      <Switch>\r\n        <ProtectedRoute\r\n          exact = 'exact'\r\n          path=\"/\"\r\n          component={Main}\r\n          onEditAvatar={handleEditAvatarClick}\r\n          onEditProfile={handleEditProfileClick}\r\n          onAddPlace={handleAddPlaceClick}\r\n          onCardClick={handleCardClick}\r\n          onDeleteClick={handleDeleteClick}\r\n          cards={cards}\r\n          onCardLike={handleCardLike}\r\n          onCardDelete={handleDeleteCard}\r\n          isLoading={loading}\r\n          loggedIn={loggedIn} />\r\n        <Route exact path=\"/sign-in\">\r\n          <Login\r\n            onExit={setExit}\r\n            setEmail={setEmail}\r\n            onLoggedIn={setLoggedIn}\r\n            onFail={handleFailPopupClick} />\r\n        </Route>\r\n        <Route exact path=\"/sign-up\">\r\n          <Register\r\n            isAuth={isAuth}\r\n            handleLink={handleLink}\r\n            onSuccess={handleSuccessPopupClick} />\r\n        </Route>\r\n        <Route>\r\n          {loggedIn ? <Redirect to=\"/react-mesto-auth\" /> : <Redirect to=\"/react-mesto-auth/sign-in\" />}\r\n        </Route>\r\n      </Switch>\r\n      {loggedIn && <Footer />}\r\n      <EditProfilePopup\r\n        isOpen={isEditProfilePopupOpen}\r\n        onClose={closeAllPopups}\r\n        escClose={handleEscClose}\r\n        overlayClose={handleOverlayClose}\r\n        onUpdateUser={handleUpdateUser}\r\n        buttonTitle={buttonSave}\r\n        isButtonActive={isButtonEdditProfile}\r\n        onButtonActive={setIsButtonEdditProfile} />\r\n      <AddPlacePopup\r\n        isOpen={isAddPlacePopupOpen}\r\n        onClose={closeAllPopups}\r\n        escClose={handleEscClose}\r\n        overlayClose={handleOverlayClose}\r\n        onAddPlace={handleAddPlace}\r\n        buttonTitle={buttonAdd}\r\n        isButtonActive={isButtonAddPlace}\r\n        onButtonActive={setIsButtonAddPlace} />\r\n      <EditAvatarPopup\r\n        isOpen={isEditAvatarPopupOpen}\r\n        onClose={closeAllPopups}\r\n        escClose={handleEscClose}\r\n        overlayClose={handleOverlayClose}\r\n        onUpdateAvatar={handleUpdateAvatar}\r\n        buttonTitle={buttonSave}\r\n        isButtonActive={isButtonAvatar}\r\n        onButtonActive={setIsButtonAvatar} />\r\n      <DeletePopup\r\n        card={selectedCard}\r\n        isOpen={isDeletePopupOpen}\r\n        onClose={closeAllPopups}\r\n        escClose={handleEscClose}\r\n        overlayClose={handleOverlayClose}\r\n        onCardDelete={handleCardDelete}\r\n        buttonTitle={buttonDelete} />\r\n      <ImagePopup\r\n        isOpen={isPopupWithImageOpen}\r\n        card={selectedCard}\r\n        onClose={closeAllPopups}\r\n        escClose={handleEscClose}\r\n        overlayClose={handleOverlayClose} />\r\n      <InfoTooltip\r\n        isOpen={isSuccessPopupOpen}\r\n        onClose={closeAllPopups}\r\n        escClose={handleEscClose}\r\n        overlayClose={handleOverlayClose}\r\n        src={successImage}\r\n        title=\"Вы успешно зарегистрировались!\" />\r\n      <InfoTooltip\r\n        isOpen={isFailPopupOpen}\r\n        onClose={closeAllPopups}\r\n        escClose={handleEscClose}\r\n        overlayClose={handleOverlayClose}\r\n        src={failImage}\r\n        title=\"Что-то пошло не так!\r\n        Попробуйте ещё раз.\" />\r\n    </CurrentUserContext.Provider>\r\n  );\r\n\r\n}\r\n\r\nexport default withRouter(App);","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}