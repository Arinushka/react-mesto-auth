{"version":3,"sources":["components/Hamburger.js","components/Header.js","components/Footer.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/InputForm.js","components/EditProfilePopup.js","components/ImagePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeletePopup.js","components/ProtectedRoute.js","components/Login.js","components/Register.js","utils/api.js","components/InfoTooltip.js","images/success.svg","images/fail.svg","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Hamburger","props","classNameHamburger","loggedIn","isHamburger","className","email","onClick","onHandleState","linkState","onSetHamburger","withRouter","React","useState","setLinkState","handleState","isExit","onSignIn","handleLink","useEffect","isAuth","onExit","onHamburger","exit","to","href","Footer","Date","getFullYear","CurrentUserContext","createContext","Card","card","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","type","onCardDelete","onDeleteClick","src","link","alt","name","onCardLike","length","Main","avatar","onEditAvatar","about","onEditProfile","onAddPlace","isLoading","cards","map","item","onCardClick","PopupWithForm","children","buttonState","setButtonState","formRef","useRef","escClose","isOpen","current","checkValidity","Array","from","every","input","value","trim","onButtonActive","overlayClose","ref","onSubmit","noValidate","onClose","title","button","isLoad","isButtonActive","disabled","buttonTitle","InputForm","error","setError","onChange","e","target","validationMessage","id","minLength","maxLength","placeholder","required","EditProfilePopup","setName","description","setDescription","preventDefault","onUpdateUser","ImagePopup","EditAvatarPopup","setAvatar","onUpdateAvatar","AddPlacePopup","setLink","xName","DeletePopup","ProtectedRoute","Component","component","setEmail","password","setPassword","onLogin","onRegister","api","options","this","baseUrl","headers","res","ok","json","Promise","reject","status","fetch","then","_checkResponse","newName","newAbout","method","body","JSON","stringify","cardId","imageUrl","addLike","removeLike","authorization","InfoTooltip","BASE_URL","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isDeletePopupOpen","setIsDeletePopupOpen","selectedCard","setSelectedCard","isPopupWithImageOpen","setIsPopupWithImageOpen","setCurrentUser","setCards","loading","setLoading","buttonSave","setButtonSave","buttonAdd","setButtonAdd","buttonDelete","setButtonDelete","setLoggedIn","isButtonEdditProfile","setIsButtonEdditProfile","isButtonAddPlace","setIsButtonAddPlace","isButtonAvatar","setIsButtonAvatar","isSuccessPopupOpen","setIsSuccessPopupOpen","isFailPopupOpen","setIsFailPopupOpen","setIsAuth","setExit","hamburger","setHamburger","handleButton","setState","handleFailPopupClick","closeAllPopups","document","removeEventListener","evt","key","handleEscClose","addEventListener","handleOverlayClose","classList","contains","handleTokenCheck","localStorage","getItem","token","auth","history","push","data","catch","err","removeItem","console","log","all","getUserInfo","getInitialCards","userInfo","cardList","Provider","exact","path","changeLikeCardStatus","newCard","state","c","setItem","setUserInfo","addCard","updateAvatarImage","deleteCard","filter","successImage","failImage","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d44b3b78.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\n\r\n export const Hamburger = (props) => {\r\n\tconst classNameHamburger = `header__wrapper_hamburger header__wrapper_visible ${!props.loggedIn && 'header__wrapper_hidden'}`;\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{props.isHamburger && <div className={classNameHamburger}>\r\n\t\t\t\t<p className=\"header__email_hamburger\">{props.email}</p>\r\n\t\t\t\t<Link\r\n\t\t\t\t\tclassName=\"header__link header__link_exit\"\r\n\t\t\t\t\tonClick={props.onHandleState}>\r\n\t\t\t\t\t{props.linkState}\r\n\t\t\t\t</Link>\r\n\t\t\t</div>}\r\n\t\t\t{props.loggedIn && <header className=\"header__hamburger\">\r\n\t\t\t\t<div className=\"header__logo\"></div>\r\n\t\t\t\t<button className={`header__menu ${props.isHamburger && 'header__menu_exit'}`} onClick={props.onSetHamburger}></button>\r\n\t\t\t</header>}\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default withRouter(Hamburger);","import React from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport {Hamburger} from './Hamburger';\r\n\r\nfunction Header(props) {\r\n\r\n  const [linkState, setLinkState] = React.useState('');\r\n\r\n  function signOut() {\r\n    props.onSignIn();\r\n  }\r\n\r\n  function changeOfState() {\r\n    if (props.isExit) {\r\n      setLinkState('Выйти');\r\n    } else {\r\n      setLinkState(props.isAuth ? 'Регистрация' : 'Войти')\r\n    }\r\n  }\r\n\r\n  function handleState() {\r\n    if (props.isExit) {\r\n      signOut();\r\n    } else {\r\n      props.handleLink();\r\n    }\r\n  }\r\n\r\n  function handleHamburger() {\r\n    props.onHamburger(!props.isHamburger);\r\n  }\r\n  \r\n  React.useEffect(() => {\r\n    changeOfState();\r\n  }, [props.isExit, props.isAuth])\r\n\r\n  React.useEffect(() => {\r\n    if (props.loggedIn) props.onExit(true)\r\n  }, [props.loggedIn])\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <Hamburger\r\n        linkState={linkState}\r\n        email={props.email}\r\n        onSetHamburger={handleHamburger}\r\n        isHamburger={props.isHamburger}\r\n        isExit={props.exit}\r\n        isAuth={props.isAuth}\r\n        onHandleState={handleState}\r\n        loggedIn={props.loggedIn} />\r\n      <div className={`header__desktop ${!props.loggedIn && 'header__desktop_visible'}`}>\r\n        <div className=\"header__logo\"></div>\r\n        <div className=\"header__wrapper\">\r\n          <p className=\"header__email\">{props.email}</p>\r\n          <Link\r\n            to={(props.isAuth && !props.isExit) ? (props.isAuth ? '/sign-up' : '/sign-in') : '/sign-in'}\r\n            onClick={handleState}\r\n            className={`header__link ${props.isExit && 'header__link_exit'}`}\r\n            href=\"#\">{linkState}\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default withRouter(Header);","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; 2020 - {new Date().getFullYear()} Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nfunction Card(props) {\r\n\r\n  const card = props.card;\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n\r\n  const cardDeleteButtonClassName = (`gallery__button-delete ${isOwn ? '' : 'gallery__button-delete_hidden'}`);\r\n  const cardLikeButtonClassName = (`gallery__button ${isLiked && 'gallery__button_like'}`);\r\n\r\n  function handleClick() {\r\n    props.onClick(card)\r\n  }\r\n  function handleLikeClick() {\r\n    props.onCardLike(card)\r\n  }\r\n  function handleDeleteClick() {\r\n    props.onCardDelete(card);\r\n    props.onDeleteClick();\r\n  }\r\n\r\n  return (\r\n    <article className=\"gallery__card\">\r\n      <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleDeleteClick}></button>\r\n      <img className=\"gallery__image\" src={card.link} alt={card.name} onClick={handleClick} />\r\n      <div className=\"gallery__wrapper\">\r\n        <h2 className=\"gallery__name\">{card.name}</h2>\r\n        <div className=\"gallery__button-wrapper\">\r\n          <button className={cardLikeButtonClassName} onClick={handleLikeClick} type=\"button\"></button>\r\n          <span className=\"gallery__button-counter\">{card.likes.length}</span>\r\n        </div>\r\n      </div>\r\n    </article>\r\n  );\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__avatar-container\">\r\n            <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Avatar\" />\r\n            <button className=\"profile__avatar-button\" onClick={props.onEditAvatar}></button>\r\n          </div>\r\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n          <p className=\"profile__job\">{currentUser.about}</p>\r\n          <button className=\"profile__button-edit\" type=\"button\" onClick={props.onEditProfile}></button>\r\n        </div>\r\n        <button className=\"profile__button-add\" type=\"button\" onClick={props.onAddPlace}></button>\r\n      </section>\r\n      <section>\r\n        <div className={`${props.isLoading && 'loading'}`}></div>\r\n        <div className=\"gallery\">\r\n          {props.cards.map((item) => (\r\n            <Card key={item._id}\r\n              onCardDelete={props.onCardDelete}\r\n              onCardLike={props.onCardLike}\r\n              card={item}\r\n              onClick={props.onCardClick}\r\n              onDeleteClick={props.onDeleteClick} />\r\n          ))}\r\n        </div>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;","import React from \"react\";\r\n\r\nfunction PopupWithForm(props) {\r\n\r\n  const children = props.children;\r\n  const [buttonState, setButtonState] = React.useState(true);\r\n  const formRef = React.useRef();\r\n\r\n  React.useEffect(() => {\r\n    props.escClose(props.isOpen);\r\n  }, [props.isOpen, props.escClose])\r\n\r\n  React.useEffect(() => {\r\n    if (formRef.current && formRef.current.checkValidity() && Array.from(children).every((input) => input.props.value.trim() !== '')) {\r\n      setButtonState(false);\r\n      props.onButtonActive(false);\r\n    } else {\r\n      setButtonState(true);\r\n      props.onButtonActive(true);\r\n    }\r\n  })\r\n\r\n  return (\r\n    <div className={`popup popup_${props.name} ${props.isOpen && 'popup_opened'}`} onClick={props.overlayClose}>\r\n      <form ref={formRef} className={`popup__container popup__container_form popup__${props.name}-form`} name={`popup_${props.name}`} onSubmit={props.onSubmit} noValidate>\r\n        <button className=\"popup__close\" type=\"button\" onClick={props.onClose} ></button>\r\n        <h2 className={`popup__title popup__title-${props.name}`}>{props.title}</h2>\r\n        {children}\r\n        <button className={`popup__submit ${props.button.isLoad && 'popup__submit_loading'} ${props.isButtonActive && 'popup__button_invalid'}`} type=\"submit\" disabled={buttonState}>\r\n          {props.button.buttonTitle}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\n\r\nfunction InputForm(props) {\r\n\r\n  const [error, setError] = React.useState('');\r\n\r\n  function handleChange(e) {\r\n    props.onChange(e);\r\n    if (e.target.value.trim().length < 2 && e.target.validationMessage === '') {\r\n      setError('Слово должно содержать как минимум 2 символа помимо пробелов.');\r\n\r\n    } else {\r\n      setError(e.target.validationMessage);\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    if (!props.isOpen) { setError('') }\r\n  }, [props.isOpen])\r\n  return (\r\n    <div className=\"popup__input_wrapper\">\r\n      <input ref={props.ref} value={props.value} onChange={handleChange} className={props.className} id={props.id} type={props.type} minLength={props.minLength} maxLength={props.maxLength} placeholder={props.placeholder} name={props.name} required/>\r\n      <span className=\"popup__error\">{error}</span>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InputForm;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport InputForm from './InputForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  function handleName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleDescription(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateUser({\r\n      name: name.trim(),\r\n      about: description.trim(),\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n  return (\r\n    <PopupWithForm\r\n      name=\"profile\"\r\n      title=\"Редактировать профиль\"\r\n      button={props.buttonTitle}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      escClose={props.escClose}\r\n      overlayClose={props.overlayClose}\r\n      onSubmit={handleSubmit}\r\n      isButtonActive={props.isButtonActive}\r\n      onButtonActive={props.onButtonActive}>\r\n      <InputForm\r\n        value={name}\r\n        onChange={handleName}\r\n        className=\"popup__name popup__input popup_profile_name\"\r\n        id=\"name-card-profile\"\r\n        type=\"text\"\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        placeholder=\"Имя\"\r\n        name=\"input_name_profile\"\r\n        isOpen={props.isOpen}>\r\n      </InputForm>\r\n      <InputForm\r\n        value={description}\r\n        onChange={handleDescription}\r\n        className=\"popup__job popup__input popup_profile_job\"\r\n        id=\"job-card\"\r\n        type=\"text\"\r\n        minLength=\"2\"\r\n        maxLength=\"200\"\r\n        placeholder=\"Профессия\"\r\n        name=\"input_job_profile\"\r\n        isOpen={props.isOpen}>\r\n      </InputForm>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;","import React from \"react\";\r\n\r\nfunction ImagePopup(props) {\r\n\r\n  React.useEffect(() => {\r\n    props.escClose(props.isOpen);\r\n  }, [props.isOpen, props.escClose])\r\n\r\n  return (\r\n    <div className={`popup popup_fullsize_wrapper ${props.isOpen && 'popup_opened'}`} onClick={props.overlayClose}>\r\n      <form className=\"popup__container popup__fullsize\" name=\"popup_fullsize\"  >\r\n        <button className=\"popup__close\" type=\"button\" onClick={props.onClose}></button>\r\n        <img className=\"popup__image-fullsize\" src={props.card.link} alt={props.card.name} />\r\n        <h2 className=\"popup__title popup__title-fullsize\">{props.card.name}</h2>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport InputForm from './InputForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const [avatar, setAvatar] = React.useState('');\r\n\r\n  function handleAvatar(e) {\r\n    setAvatar(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateAvatar({\r\n      avatar: avatar\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"save_avatar\"\r\n      title=\"Обновить аватар\"\r\n      button={props.buttonTitle}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      escClose={props.escClose}\r\n      overlayClose={props.overlayClose}\r\n      onSubmit={handleSubmit}\r\n      isButtonActive={props.isButtonActive}\r\n      onButtonActive={props.onButtonActive}>\r\n      <InputForm\r\n        value={avatar}\r\n        onChange={handleAvatar}\r\n        className=\"popup__job popup__link popup__input\"\r\n        id=\"link-avatar\"\r\n        type=\"url\"\r\n        placeholder=\"Ссылка для картинки\"\r\n        name=\"input_link_profile\"\r\n        isOpen={props.isOpen}>\r\n      </InputForm>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport InputForm from './InputForm';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\n\r\nfunction AddPlacePopup(props) {\r\n  const [name, setName] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n\r\n  function handleName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleLink(e) {\r\n    setLink(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onAddPlace({\r\n      name: name.trim(),\r\n      link: link,\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName('');\r\n    setLink('');\r\n  }, [props.isOpen])\r\n\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"gallery\"\r\n      title=\"Новая карточка\"\r\n      button={props.buttonTitle}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      escClose={props.escClose}\r\n      overlayClose={props.overlayClose}\r\n      onSubmit={handleSubmit}\r\n      isButtonActive={props.isButtonActive}\r\n      onButtonActive={props.onButtonActive}>\r\n      <InputForm\r\n        value={name}\r\n        onChange={handleName}\r\n        className=\"popup__name popup__name_gallery popup__input\"\r\n        id=\"name-card\"\r\n        type=\"text\"\r\n        minLength=\"2\"\r\n        maxLength=\"30\"\r\n        placeholder=\"Название карточки\"\r\n        name=\"input_name_gallery\"\r\n        isOpen={props.isOpen}>\r\n      </InputForm>\r\n      <InputForm\r\n        value={link}\r\n        onChange={handleLink}\r\n        className=\"popup__job popup__link popup__input\"\r\n        id=\"link-card\"\r\n        type=\"url\"\r\n        placeholder=\"Ссылка для картинки\"\r\n        name=\"input_link_gallery\"\r\n        isOpen={props.isOpen}\r\n        xName={link}>\r\n      </InputForm>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\n\r\nfunction DeletePopup(props) {\r\n\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onCardDelete(props.card);\r\n    props.onClose();\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    props.escClose(props.isOpen);\r\n  }, [props.isOpen, props.escClose])\r\n\r\n  return (\r\n    <div className={`popup popup_delete_card ${props.isOpen && 'popup_opened'}`} onClick={props.overlayClose}> \r\n<form className=\"popup__container popup__container_form popup__delete-form\" name=\"popup_delete\" noValidate> \r\n    <button className=\"popup__close popup__close_delete\" type=\"button\"  onClick={props.onClose}></button> \r\n    <h2 className=\"popup__title popup__title-delete\">Вы уверены?</h2> \r\n    <button className={`popup__submit popup__submit_delete ${props.buttonTitle.isLoad && 'popup__submit_loading'}`} type=\"button\" onClick={handleSubmit}>{props.buttonTitle.buttonTitle}</button> \r\n</form> \r\n</div> \r\n  );\r\n}\r\n\r\nexport default DeletePopup;\r\n\r\n\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute; ","import React from 'react';\r\nimport InputForm from './InputForm';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nfunction Login(props) {\r\n\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  function handleEmail(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n\r\n  function handlePassword(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onLogin(email, password);\r\n\r\n  }\r\n  return (\r\n    <div className=\"passp-content\" >\r\n      <form className=\"passp-content__form\" noValidate onSubmit={handleSubmit}>\r\n        <h2 className=\"passp-content__title\">Вход</h2>\r\n        <InputForm onChange={handleEmail} value={email} className=\"passp-content__input\" placeholder=\"Email\" type=\"email\"></InputForm>\r\n        <InputForm onChange={handlePassword} value={password} className=\"passp-content__input\" placeholder=\"Пароль\" type=\"password\"></InputForm>\r\n        <button className=\"passp-content__button-submit\" type=\"submit\">Войти</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withRouter(Login);","import React from 'react';\r\nimport InputForm from './InputForm';\r\nimport { Link, withRouter } from 'react-router-dom';\r\n\r\nfunction Register(props) {\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  function handleEmail(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n\r\n  function handlePassword(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onRegister(email, password);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    if (props.isAuth) props.handleLink()\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"passp-content\">\r\n      <form className=\"passp-content__form\" noValidate onSubmit={handleSubmit}>\r\n        <h2 className=\"passp-content__title\">Регистрация</h2>\r\n        <InputForm onChange={handleEmail} value={email} className=\"passp-content__input\" placeholder=\"Email\" type=\"email\"></InputForm>\r\n        <InputForm onChange={handlePassword} value={password} className=\"passp-content__input\" placeholder=\"Пароль\" type=\"password\"></InputForm>\r\n        <button className=\"passp-content__button-submit\" >Зарегистрироваться</button>\r\n      </form>\r\n      <p className=\"passp-content__check\">Уже зарегистрированы? <Link to=\"sign-in\" onClick={props.handleLink} className=\"passp-content__link\" href=\"#\">Войти</Link></p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withRouter(Register);\r\n","class Api {\r\n  constructor(options) {\r\n    this.baseUrl = options.baseUrl;\r\n    this.headers = options.headers;\r\n  }\r\n  _checkResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка ${res.status}`);\r\n  }\r\n  getInitialCards() {\r\n    return fetch(`${this.baseUrl}/cards`, {\r\n      headers: this.headers\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this.baseUrl}/users/me`, {\r\n      headers: this.headers\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  setUserInfo(newName, newAbout) {\r\n    return fetch(`${this.baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this.headers,\r\n      body: JSON.stringify({\r\n        name: newName,\r\n        about: newAbout\r\n      })\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  addCard(name, link) {\r\n    return fetch(`${this.baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: this.headers,\r\n      body: JSON.stringify({\r\n        name: name,\r\n        link: link\r\n      })\r\n\r\n    })\r\n      .then(this._checkResponse)\r\n\r\n  }\r\n  deleteCard(cardId) {\r\n    return fetch(`${this.baseUrl}/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: this.headers,\r\n\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n  updateAvatarImage(imageUrl) {\r\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this.headers,\r\n      body: JSON.stringify({\r\n        avatar: imageUrl\r\n      })\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n  addLike(cardId) {\r\n    return fetch(`${this.baseUrl}/cards/likes/${cardId}`, {\r\n      method: 'PUT',\r\n      headers: this.headers,\r\n\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n  removeLike(cardId) {\r\n    return fetch(`${this.baseUrl}/cards/likes/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: this.headers,\r\n\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n  changeLikeCardStatus(cardId, isLiked) {\r\n    if (isLiked) {\r\n      return this.addLike(cardId)\r\n    } else {\r\n      return this.removeLike(cardId)\r\n    }\r\n  }\r\n}\r\n\r\nexport const api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-20',\r\n  headers: {\r\n    authorization: 'cb025162-3fd1-4801-ae0e-3ba5aa323c64',\r\n    'Content-Type': 'application/json'\r\n  }\r\n});","import React from 'react';\r\n\r\nfunction InfoTooltip(props) {\r\n\r\n  React.useEffect(() => {\r\n    props.escClose(props.isOpen);\r\n  }, [props.isOpen, props.escClose])\r\n\r\n  return (\r\n    <div className={`popup ${props.isOpen && 'popup_opened'}`} onClick={props.overlayClose}>\r\n      <form className=\"popup__container popup__notification\" name=\"popup_notification\">\r\n        <button className=\"popup__close\" type=\"button\" onClick={props.onClose}></button>\r\n        <img className=\"popup__image-notification\" src={props.src} alt=\"Уведомление\"/>\r\n        <h2 className=\"popup__title popup__title-notification\">{props.title}</h2>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;","export default __webpack_public_path__ + \"static/media/success.a9eb6caf.svg\";","export default __webpack_public_path__ + \"static/media/fail.d4ce2a26.svg\";","export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nexport const register = (email, password) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      \"Content-Type\": \"application/json\"\r\n    },\r\n    body: JSON.stringify({ email, password })\r\n  })\r\n    .then(res => {\r\n      if (!res.ok) {\r\n        return Promise.reject(res.status)\r\n      } else {\r\n        console.log(res)\r\n        return res.json();\r\n      }\r\n    })\r\n};\r\n\r\nexport const authorize = (email, password) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ email, password })\r\n  })\r\n    .then(res => {\r\n      if (!res.ok) {\r\n        return Promise.reject(res.status)\r\n      } else {\r\n        return res.json();\r\n      }\r\n    })\r\n};\r\n\r\nexport const checkToken = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      \"Authorization\": `Bearer ${token}`\r\n    }\r\n  })\r\n    .then(res => {\r\n      if (!res.ok) {\r\n        return Promise.reject(res.status)\r\n      } else {\r\n        return res.json();\r\n      }\r\n    })\r\n};","import Header from \"./Header\";\r\nimport Footer from \"./Footer\";\r\nimport Main from \"./Main\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport DeletePopup from \"./DeletePopup\";\r\nimport ProtectedRoute from \"./ProtectedRoute\";\r\nimport Login from \"./Login\";\r\nimport Register from \"./Register\";\r\nimport { api } from \"../utils/api\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport React from \"react\";\r\nimport { Route, Switch, Redirect, withRouter } from \"react-router-dom\";\r\nimport InfoTooltip from \"./InfoTooltip\";\r\nimport successImage from \"../images/success.svg\";\r\nimport failImage from \"../images/fail.svg\";\r\nimport * as auth from \"../utils/auth.js\";\r\n\r\nfunction App(props) {\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(\r\n    false\r\n  );\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(\r\n    false\r\n  );\r\n  const [isDeletePopupOpen, setIsDeletePopupOpen] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState({ link: \"\" });\r\n  const [isPopupWithImageOpen, setIsPopupWithImageOpen] = React.useState(false);\r\n  const [currentUser, setCurrentUser] = React.useState({\r\n    name: \"\",\r\n    about: \"\",\r\n    avatar: \"\",\r\n  });\r\n  const [cards, setCards] = React.useState([]);\r\n  const [loading, setLoading] = React.useState(false);\r\n  const [buttonSave, setButtonSave] = React.useState({\r\n    isLoad: false,\r\n    buttonTitle: \"Сохранить\",\r\n  });\r\n  const [buttonAdd, setButtonAdd] = React.useState({\r\n    isLoad: false,\r\n    buttonTitle: \"Создать\",\r\n  });\r\n  const [buttonDelete, setButtonDelete] = React.useState({\r\n    isLoad: false,\r\n    buttonTitle: \"Да\",\r\n  });\r\n\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n  const [isButtonEdditProfile, setIsButtonEdditProfile] = React.useState(false);\r\n  const [isButtonAddPlace, setIsButtonAddPlace] = React.useState(false);\r\n  const [isButtonAvatar, setIsButtonAvatar] = React.useState(false);\r\n  const [isSuccessPopupOpen, setIsSuccessPopupOpen] = React.useState(false);\r\n  const [isFailPopupOpen, setIsFailPopupOpen] = React.useState(false);\r\n  const [isAuth, setIsAuth] = React.useState(true);\r\n  const [exit, setExit] = React.useState(false);\r\n  const [email, setEmail] = React.useState(\"\");\r\n  const [hamburger, setHamburger] = React.useState(false);\r\n\r\n  function handleButton(isLoad, buttonTitle, setState) {\r\n    setState({ isLoad: isLoad, buttonTitle: buttonTitle });\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleSuccessPopupClick() {\r\n    setIsSuccessPopupOpen(true);\r\n  }\r\n\r\n  function handleFailPopupClick() {\r\n    setIsFailPopupOpen(true);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsDeletePopupOpen(false);\r\n    setIsPopupWithImageOpen(false);\r\n    setIsFailPopupOpen(false);\r\n    setIsSuccessPopupOpen(false);\r\n    document.removeEventListener(\"keydown\", escClose);\r\n  }\r\n\r\n  function escClose(evt) {\r\n    if (evt.key === \"Escape\") {\r\n      closeAllPopups();\r\n    }\r\n  }\r\n\r\n  function handleEscClose(isOpen) {\r\n    if (isOpen) {\r\n      document.addEventListener(\"keydown\", escClose);\r\n    }\r\n  }\r\n\r\n  function handleOverlayClose(evt) {\r\n    if (evt.target.classList.contains(\"popup_opened\")) {\r\n      closeAllPopups();\r\n    }\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    setIsDeletePopupOpen(true);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n    setIsPopupWithImageOpen(true);\r\n  }\r\n\r\n  function handleDeleteCard(card) {\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setLoading(true);\r\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\r\n      .then(([userInfo, cardList]) => {\r\n        setCurrentUser(userInfo);\r\n        setCards(cardList);\r\n        setLoading(false);\r\n        console.log(cardList, userInfo);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n    api.changeLikeCardStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        setCards((state) =>\r\n          state.map((c) => (c._id === card._id ? newCard : c))\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    handleButton(true, \"Удаление...\", setButtonDelete);\r\n    api.deleteCard(card._id)\r\n      .then(() => {\r\n        handleButton(false, \"Да\", setButtonDelete);\r\n        setCards((state) => state.filter((item) => item._id !== card._id));\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleUpdateUser({ name, about }) {\r\n    handleButton(true, \"Сохранение...\", setButtonSave);\r\n    api.setUserInfo(name, about)\r\n      .then((data) => {\r\n        setCurrentUser(data);\r\n        handleButton(false, \"Сохранить\", setButtonSave);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleUpdateAvatar({ avatar }) {\r\n    handleButton(true, \"Сохранение...\", setButtonSave);\r\n    api.updateAvatarImage(avatar)\r\n      .then((data) => {\r\n        setCurrentUser(data);\r\n        handleButton(false, \"Сохранить\", setButtonSave);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleAddPlace({ name, link }) {\r\n    handleButton(true, \"Создание...\", setButtonAdd);\r\n    api.addCard(name, link)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        handleButton(false, \"Создать\", setButtonAdd);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleTokenCheck() {\r\n    if (localStorage.getItem(\"token\")) {\r\n      const token = localStorage.getItem(\"token\");\r\n      auth.checkToken(token)\r\n        .then((res) => {\r\n          if (res) {\r\n            setLoggedIn(true);\r\n            props.history.push(\"/\");\r\n            setEmail(res.data.email);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          localStorage.removeItem('token');\r\n          console.log(err)\r\n        });\r\n    }\r\n  }\r\n\r\n  function handleLink() {\r\n    setIsAuth(!isAuth);\r\n  }\r\n\r\n  function handleLogin(email, password) {\r\n    auth.authorize(email, password)\r\n      .then((res) => {\r\n        localStorage.setItem('token', res.token);\r\n        setEmail(email);\r\n        setLoggedIn(true);\r\n        setExit(true);\r\n        props.history.push('/');\r\n      })\r\n      .catch((err) => {\r\n        handleFailPopupClick();\r\n        console.log(err)\r\n      }\r\n      );\r\n  }\r\n\r\n  function handleRegister(email, password) {\r\n    auth.register(email, password)\r\n      .then((res) => {\r\n        handleSuccessPopupClick();\r\n        props.history.push('/sign-in');\r\n      })\r\n      .catch((err) => {\r\n        handleFailPopupClick();\r\n        console.log(err)\r\n      }\r\n      );\r\n  }\r\n\r\n  function handleSignOut() {\r\n    localStorage.removeItem('token');\r\n    props.history.push('/sign-in');\r\n    setExit(false);\r\n    setEmail('');\r\n    setLoggedIn(false);\r\n    console.log(props.loggedIn);\r\n    setHamburger(false);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    handleTokenCheck();\r\n  }, []);\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <Header\r\n        isHamburger={hamburger}\r\n        onHamburger={setHamburger}\r\n        isExit={exit}\r\n        onExit={setExit}\r\n        email={email}\r\n        handleLink={handleLink}\r\n        isAuth={isAuth}\r\n        loggedIn={loggedIn}\r\n        onSignIn={handleSignOut} />\r\n      <Switch>\r\n        <ProtectedRoute\r\n          exact=\"exact\"\r\n          path=\"/\"\r\n          component={Main}\r\n          onEditAvatar={handleEditAvatarClick}\r\n          onEditProfile={handleEditProfileClick}\r\n          onAddPlace={handleAddPlaceClick}\r\n          onCardClick={handleCardClick}\r\n          onDeleteClick={handleDeleteClick}\r\n          cards={cards}\r\n          onCardLike={handleCardLike}\r\n          onCardDelete={handleDeleteCard}\r\n          isLoading={loading}\r\n          loggedIn={loggedIn} />\r\n        <Route exact path=\"/sign-in\">\r\n          <Login\r\n            onLogin={handleLogin} />\r\n        </Route>\r\n        <Route exact path=\"/sign-up\">\r\n          <Register\r\n            onRegister={handleRegister}\r\n            isAuth={isAuth}\r\n            handleLink={handleLink} />\r\n        </Route>\r\n        <Route>\r\n          {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\r\n        </Route>\r\n      </Switch>\r\n      {loggedIn && <Footer />}\r\n      <EditProfilePopup\r\n        isOpen={isEditProfilePopupOpen}\r\n        onClose={closeAllPopups}\r\n        escClose={handleEscClose}\r\n        overlayClose={handleOverlayClose}\r\n        onUpdateUser={handleUpdateUser}\r\n        buttonTitle={buttonSave}\r\n        isButtonActive={isButtonEdditProfile}\r\n        onButtonActive={setIsButtonEdditProfile} />\r\n      <AddPlacePopup\r\n        isOpen={isAddPlacePopupOpen}\r\n        onClose={closeAllPopups}\r\n        escClose={handleEscClose}\r\n        overlayClose={handleOverlayClose}\r\n        onAddPlace={handleAddPlace}\r\n        buttonTitle={buttonAdd}\r\n        isButtonActive={isButtonAddPlace}\r\n        onButtonActive={setIsButtonAddPlace} />\r\n      <EditAvatarPopup\r\n        isOpen={isEditAvatarPopupOpen}\r\n        onClose={closeAllPopups}\r\n        escClose={handleEscClose}\r\n        overlayClose={handleOverlayClose}\r\n        onUpdateAvatar={handleUpdateAvatar}\r\n        buttonTitle={buttonSave}\r\n        isButtonActive={isButtonAvatar}\r\n        onButtonActive={setIsButtonAvatar} />\r\n      <DeletePopup\r\n        card={selectedCard}\r\n        isOpen={isDeletePopupOpen}\r\n        onClose={closeAllPopups}\r\n        escClose={handleEscClose}\r\n        overlayClose={handleOverlayClose}\r\n        onCardDelete={handleCardDelete}\r\n        buttonTitle={buttonDelete} />\r\n      <ImagePopup\r\n        isOpen={isPopupWithImageOpen}\r\n        card={selectedCard}\r\n        onClose={closeAllPopups}\r\n        escClose={handleEscClose}\r\n        overlayClose={handleOverlayClose} />\r\n      <InfoTooltip\r\n        isOpen={isSuccessPopupOpen}\r\n        onClose={closeAllPopups}\r\n        escClose={handleEscClose}\r\n        overlayClose={handleOverlayClose}\r\n        src={successImage}\r\n        title=\"Вы успешно зарегистрировались!\" />\r\n      <InfoTooltip\r\n        isOpen={isFailPopupOpen}\r\n        onClose={closeAllPopups}\r\n        escClose={handleEscClose}\r\n        overlayClose={handleOverlayClose}\r\n        src={failImage}\r\n        title=\"Что-то пошло не так!Попробуйте ещё раз.\" />\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default withRouter(App);","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}